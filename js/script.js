window.addEventListener("DOMContentLoaded",()=>{"use strict";(()=>{const e=document.querySelectorAll(".hiddenCard"),t=document.querySelector(".clothes__btn"),n=document.querySelector(".clothes__btn-title");t.addEventListener("click",()=>{e.forEach(e=>{e.classList.contains("hiddenCard")?(e.classList.remove("hiddenCard"),n.innerHTML="Свернуть"):(e.classList.add("hiddenCard"),n.innerHTML="Смотреть больше коллекций")})})})();(()=>{const e=document.querySelector(".tabs-header"),t=document.querySelectorAll(".tabs-header-tab"),n=document.querySelectorAll(".clothes");document.querySelectorAll(".hiddenCard");e.addEventListener("click",e=>{let a=e.target;a=a.closest(".tabs-header-tab"),a&&t.forEach((e,l)=>{e===a.closest(".tabs-header-tab")&&(e=>{for(let a=0;a<n.length;a++)e===a?(t[a].classList.add("activeTab"),n[a].style.display="flex"):(t[a].classList.remove("activeTab"),n[a].style.display="none")})(l)})})})();document.querySelectorAll('a[href*="#"]').forEach(e=>{e.addEventListener("click",(function(t){if(t.preventDefault(),'a[href="#"]'!==e){const t=e.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start",inline:"start"})}}))});(()=>{const e=document.querySelector("#menu-togle"),t=document.querySelector(".menu__nav");document.addEventListener("click",n=>{n.target.closest("#menu-togle")?(e.classList.toggle("menu-icon-active"),t.classList.toggle("menu__nav--active")):(n.target.closest("li>a")||!n.target.closest("nav")||n.target.closest(".menu__btn"))&&(e.classList.remove("menu-icon-active"),t.classList.remove("menu__nav--active"))})})();new Swiper(".swiper-container.swiper-container--reviews",{speed:1e3,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",clickable:!0,type:"bullets"}}),new Swiper(".swiper-container.swiper-container--stories",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}),$("[type=tel]").mask("+7(000)000-00-00",{placeholder:"Ваш номер телефона"});const modalForm=()=>{let e=$(".modal");modalBtn=$("[data-toggle = modal]"),closeBtn=$(".modal__close"),modalBtn.on("click",(function(){e.toggleClass("modal--visible")})),closeBtn.on("click",(function(){e.toggleClass("modal--visible")})),$(document).keyup("click",(function(e){"27"==e.which&&$(".modal").removeClass("modal--visible")})),$(document).click((function(t){$(t.target).is(".modal")&&e.toggleClass("modal--visible")})),$(".modalSend-btn").on("click",(function(e){e.preventDefault(),$(".modalSend").fadeIn()})),$(document).keyup("click",(function(e){"27"==e.which&&$(".modalSend").fadeOut()})),$(document).on("click",(function(e){$(".modalSend").fadeOut()}))};modalForm(),$(".email__form").validate({errorClass:"invalid",rules:{userEmail:{required:!0,email:!0}},messages:{userEmail:{required:"Обязательно укажите email",email:"Введите в формате: ivanov@gmail.com"}},submitHandler:function(e){$.ajax({type:"POST",url:"sendEmail.php",data:$(".email__form").serialize(),success:function(t){$(e)[0].reset(),$(".modalSend").fadeIn()}})}}),$(".modal__form").validate({errorClass:"invalid",rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:{required:!0,minlength:16}},messages:{userName:{required:"Имя обязательно",minlength:"Имя не короче 2 символов",maxlength:"Имя не длиньше 15 символов"},userPhone:{required:"Телефон обязателен",minlength:"Некорректно введен номер"}},submitHandler:function(e){$.ajax({type:"POST",url:"sendModal.php",data:$(".modal__form").serialize(),success:function(t){$(e)[0].reset(),$(".modal").fadeOut(),$(".modalSend").fadeIn()}})}}),(new WOW).init();